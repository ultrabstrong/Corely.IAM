@using Microsoft.Extensions.Logging
@inherits ErrorBoundary
@inject ILogger<LoggingErrorBoundary> Logger

@if (CurrentException != null)
{
    <div class="container mt-5 text-center">
        <h2 class="text-danger">Something went wrong</h2>
        <p class="text-muted">An unexpected error occurred. Please try again.</p>
        <div class="mt-3">
            <button class="btn btn-primary me-2" @onclick="Recover">Try Again</button>
            <a href="@AppRoutes.Dashboard" class="btn btn-outline-secondary">Go Home</a>
        </div>
    </div>
}
else
{
    @ChildContent
}

@code {
    protected override Task OnErrorAsync(Exception exception)
    {
        Logger.LogError(exception, "Unhandled error in Blazor component");
        return Task.CompletedTask;
    }
}
