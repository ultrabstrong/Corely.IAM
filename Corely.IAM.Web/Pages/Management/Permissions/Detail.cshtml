@page "/iam/permissions/{id:guid}"
@model Corely.IAM.Web.Pages.Management.Permissions.DetailModel
@{
    Layout = "_ManagementLayout";
    ViewData["Title"] = "Permission Detail";
}

<div class="management-header">
    <h1>Permission Detail</h1>
    <a href="@Corely.IAM.Web.AppRoutes.Permissions" class="btn btn-outline-secondary">Back to List</a>
</div>

@if (!string.IsNullOrWhiteSpace(Model.Message))
{
    <partial name="_Alert" view-data='new ViewDataDictionary(ViewData) { { "AlertType", Model.MessageType }, { "AlertMessage", Model.Message } }' />
}

<div class="detail-section">
    <h3>Properties</h3>
    <div class="row g-3">
        <div class="col-md-4">
            <label class="form-label">Resource Type</label>
            <input type="text" class="form-control" value="@Model.ResourceType" disabled />
        </div>
        <div class="col-md-4">
            <label class="form-label">Resource ID</label>
            <input type="text" class="form-control" value="@(Model.ResourceId == Guid.Empty ? "(all)" : Model.ResourceId.ToString())" disabled />
        </div>
        <div class="col-md-4">
            <label class="form-label">Description</label>
            <input type="text" class="form-control" value="@Model.Description" disabled />
        </div>
    </div>
    <div class="mt-3">
        <span class="permission-badge @(Model.CanCreate ? "active" : "inactive") badge">Create</span>
        <span class="permission-badge @(Model.CanRead ? "active" : "inactive") badge">Read</span>
        <span class="permission-badge @(Model.CanUpdate ? "active" : "inactive") badge">Update</span>
        <span class="permission-badge @(Model.CanDelete ? "active" : "inactive") badge">Delete</span>
        <span class="permission-badge @(Model.CanExecute ? "active" : "inactive") badge">Execute</span>
    </div>
</div>

<div class="detail-section">
    <h3>Actions</h3>
    <form method="post" asp-page-handler="Delete" onsubmit="return confirm('Delete this permission?');">
        @Html.AntiForgeryToken()
        <input type="hidden" name="Id" value="@Model.Id" />
        <button type="submit" class="btn btn-danger">Delete Permission</button>
    </form>
</div>
